<!--Search page-->
<!DOCTYPE html>    
<html>    
<head>    
    <title>Search</title>
    <link rel="stylesheet" href="../CSS templates/SearchStyle.css">
    <script src="../JS/authenticated.js"></script>

</head>    
<body>
    <div class="image">
        <img src="https://raw.githubusercontent.com/mseliuzhytski/Bit-by-Bit-Senior-Project/main/Frontend/Images/Logo.png"
            alt="Okaidi Auto Sales" width="50%" height="10%">
    </div>
    <div class="navi">
        <div class="navi-centered">
            <nav id="navbar">
                <div class="nav-menu">
                    <div class="nav-text">
                        <h3>OKAIDI AUTO SALES</h3>
                        <div class="nav-toggle" id="navToggle">
                            <img class="navIcon"
                                src="https://raw.githubusercontent.com/mseliuzhytski/Bit-by-Bit-Senior-Project/main/Frontend/Images/iconHambMenu.png"
                                alt="hamburger menu" width="25px" id="hamburger">
                            <img class="navIcon hiddenNavIcon"
                                src="https://raw.githubusercontent.com/mseliuzhytski/Bit-by-Bit-Senior-Project/main/Frontend/Images/iconClose.png"
                                alt="close hamburger" width="25px">
                        </div>
                    </div>
                    <div class="navList" id="navShow">
                        <ul class="ulForDir">
                            <li><a href="Homepage.ejs">Home</a></li>
                            <li class="navi-li-here"><a href="Search.ejs">Search</a></li>
                            <li><a href="Aboutus.ejs">About Us</a></li>
                            <li><a href="ContactUs.ejs">Contact Us</a></li>
                            <li><a href="ApplyNow.ejs">Apply Now</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div class="text-line-body-1-box">
        <div class="text-line-body-1">
            Find your next car at Okaidi Auto Sales in Sacramento, CA
        </div>
    </div>
    
    <!-- Search Filter section -->

    <div id="filters">
        <div class="filter-title"><P>Filters</P></div>
        <form action="#" method="post">

            <label for="Color" class="filterInside">Color:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Color" id="Color">
            <option value="All">All</option> 
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Black">Black</option> 
            <option value="Brown">Brown</option>
            <option value="Beige">Beige</option>
            <option value="Grey">Grey</option>
            </select>
            </div>
            
            <label for="fname" class="filterInside">Make:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Make" id="Make">
            <option value="All">All</option> 
            <option value="Toyota">Toyota</option>
            <option value="Honda">Honda</option>
            <option value="Ford">Ford</option>
            <option value="BMW">BMW</option>
            </select>
            </div>
            
            <label for="Model" class="filterInside">Model:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Model">
            <option value="All">All</option>
            <option value="Placeholder">Placeholder</option> 
            </select>
            </div>
            
            <label for="price" class="filterInside">Price:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Price" id="Price">
            <option value="All">All</option> 
            <option value = "less5000">Under $5000</option>
            <option value = "less10000">Under $10000</option>
            <option value = "less15000">Under $15000</option>
            <option value = "less20000">Under $20000</option>
            <option value = "less25000">Under $25000</option>
            </select>
            </div>

            <label for="Year" class="filterInside">Year:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Year">
            <option value="All">All</option> 
            <option value="2010">2010</option> 
            </select>
            </div>
            
            <label for="bodyStyle" class="filterInside">Body Style:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="bodyStyle">
            <option value="All">All</option>
            <option value="Sedan">Sedan</option>
            <option value="Coupe">Coupe</option>
            <option value="Truck">Truck</option>
            <option value="SUV">SUV</option>
            <option value="Wagon">Wagon</option>
            </select>
            </div>
            
            <label for="mileage" class="filterInside">Mileage:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="mileage" id="mileage">
            <option value="All">All</option> 
            <option value = "less5000">Under 5000</option>
            <option value = "less10000">Under 10000</option>
            <option value = "less25000">Under 25000</option>
            <option value = "less50000">Under 50000</option>
            <option value = "greater50000">Over 50000</option>
            </select>
            </div>
            
            <label for="condition" class="filterInside">Condition:</label>
            <div class="custom-select" style="width: 180px;">
            <select name="Condition" id="Condition">
            <option value="All">All</option> 
            <option value="New">New</option>
            <option value="Used">Used</option>
            <option value="Certified">Certified</option>
            </select>
            </div>
            <br>
            
        </form>
    </div>

    <!--    Car display     -->
    <div class="car-container">
        <div class="car-table" id="carTable">
            <% inventoryItems.forEach(function(vih){%>
            <div class="car-card">
                <div class="car-item">
                    <div class="car-img">
                        <img src="https://j3v8m9d3.stackpathcdn.com/photos/wfbdUbi/1628630235.png" alt="car img"
                            style="width: 200px">
                    </div>
                    <div class="car-title">
                        <div class="car-year"><%= vih.Car_Year %></div>
                        <div class="car-make"><%= vih.Car_Make %></div>
                        <div class="car-model"><%= vih.Car_Model %></div>
                    </div>
                    <div class="car-text-box">
                        <div class="car-stock-mil">
                            <div class="car-stock">
                                <p class="stock-icon">STOCK: </p>
                                <div class="car-stock-t"><%= vih.Car_Stock_Num %></div>
                            </div>
                            <div class="car-mil">
                                <div class="car-mil-t"><%= vih.Car_Price %></div>
                                <p class="mil-icon">miles</p>
                            </div>
                        </div>
                        <div class="car-price">
                            <h3 class="dollar-icon">$</h3>
                            <div class="car-price-t"><%= vih.Car_Price %></div>
                        </div>
                        <div class=".car-color-body-cond">
                            <h4 class="color-icon">Color:</h4>
                            <div class="car-color"><%= vih.Car_Color %></div>

                            <h4 class="body-icon">Body:</h4>
                            <div class="car-body"><%= vih.Car_BodyType %></div>
                            
                            <h4 class="cond-icon">Condition:</h4>
                            <div class="car-cond"><%= vih.Car_Condition %></div>
                        </div>
                    </div>
                </div>
                <div class="button-detail-submit">
                    <button class="detail-btn">Details</button>
                    <button class="submit-btn">Apply</button>
                </div>
            </div>
            <% }); %>
        </div>
    </div>

    <div class="footer">
        <div class="footer-section">
            <div class="footer-facebook-box">
                <a href="https://www.facebook.com/OkaidiAutoSalesLLC">
                    <img src="https://raw.githubusercontent.com/mseliuzhytski/Bit-by-Bit-Senior-Project/main/Frontend/Images/facebook_icon.png" width="40px" height="40px">
                </a>
            </div>
            <br><font size=+2>1941 El Camino Ave,</font>
            <br> SACRAMENTO, CA 95815
            <br> 916-750-9099
        </div>
        <div class="footer-section"><img src="https://j3v8m9d3.stackpathcdn.com/photos/wfbdUbi/1628630235.png" alt="logo" style="width:300px;height:200px;">
        </div>
        <div class="footer-section"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3117.741311338998!2d-121.40302578486073!3d38.60882397961626!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x809ada2b44205a41%3A0x6140aa8f54eec0e9!2sOKAIDI%20AUTO%20SALES!5e0!3m2!1sen!2sus!4v1651356145025!5m2!1sen!2sus" 
            width="60%" height="200" style="border:red;border-width:1pt 1pt 1pt 1pt;border-style: solid;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                </iframe>
        </div>

        <hr class="footer-hr">
        <div class="footer-end">
            <div class="bottom">
                <a href="Login.ejs"><u>Dealer Login</u></a>
                <br>
            </div>
        </div>
    </div>

    
    <script>
        var navbar = document.getElementById("navbar");
        window.onscroll = function () {
            if (window.pageYOffset > navbar.offsetTop) {
                navbar.classList.add("sticky");
            }
            else {
                navbar.classList.remove("sticky");
            }
        }
    </script>
    <script>
        const navToggle = document.querySelector('#navToggle');
        const navl = document.querySelector('#navShow');
        const navIcon = document.querySelectorAll('.navIcon');
        const hamburger = document.querySelector('#hamburger');

        navToggle.addEventListener("click", () => {
            navl.classList.toggle("openNav")
            navIcon.forEach(icon => {
                icon.classList.toggle("hiddenNavIcon");
            })
        });

        window.addEventListener("resize", () => {
            if (document.body.clientWidth > 720) {
                navl.classList.remove("openNav");
                navIcon.forEach(icon => {
                    icon.classList.add("hiddenNavIcon")
                });
                hamburger.classList.remove("hiddenNavIcon");
            }
        });  
    </script>
    
    <script>
        var x, i, j, l, ll, selElmnt, a, b, c;
        /*look for any elements with the class "custom-select":*/
        x = document.getElementsByClassName("custom-select");
        l = x.length;
        for (i = 0; i < l; i++) {
            selElmnt = x[i].getElementsByTagName("select")[0];
            ll = selElmnt.length;
            /*for each element, create a new DIV that will act as the selected item:*/
            a = document.createElement("DIV");
            a.setAttribute("class", "select-selected");
            a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
            x[i].appendChild(a);
            /*for each element, create a new DIV that will contain the option list:*/
            b = document.createElement("DIV");
            b.setAttribute("class", "select-items select-hide");
            for (j = 1; j < ll; j++) {
                /*for each option in the original select element, create a new DIV that will act as an option item:*/
                c = document.createElement("DIV");
                c.innerHTML = selElmnt.options[j].innerHTML;
                c.addEventListener("click", function(e) {
                    /*when an item is clicked, update the original select box, and the selected item:*/
                    var y, i, k, s, h, sl, yl;
                    s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                    sl = s.length;
                    h = this.parentNode.previousSibling;
                    for (i = 0; i < sl; i++) {
                        if (s.options[i].innerHTML == this.innerHTML) {
                            s.selectedIndex = i;
                            h.innerHTML = this.innerHTML;
                            y = this.parentNode.getElementsByClassName("same-as-selected");
                            yl = y.length;
                            for (k = 0; k < yl; k++) {
                                y[k].removeAttribute("class");
                            }
                            this.setAttribute("class", "same-as-selected");
                            break;
                        }
                    }
                    h.click();
                });
                b.appendChild(c);
            }
            x[i].appendChild(b);
            a.addEventListener("click", function(e) {
                /*when the select box is clicked, close any other select boxes, and open/close the current select box:*/
                e.stopPropagation();
                closeAllSelect(this);
                this.nextSibling.classList.toggle("select-hide");
                this.classList.toggle("select-arrow-active");
            });
        }
        function closeAllSelect(elmnt) {
            /*a function that will close all select boxes in the document, except the current select box:*/
            var x, y, i, xl, yl, arrNo = [];
            x = document.getElementsByClassName("select-items");
            y = document.getElementsByClassName("select-selected");
            xl = x.length;
            yl = y.length;
            for (i = 0; i < yl; i++) {
                if (elmnt == y[i]) {
                    arrNo.push(i)
                } else {
                    y[i].classList.remove("select-arrow-active");
                }
            }
            for (i = 0; i < xl; i++) {
                if (arrNo.indexOf(i)) {
                    x[i].classList.add("select-hide");
                }
            }
        }
        /*if the user clicks anywhere outside the select box, then close all select boxes:*/
        document.addEventListener("click", closeAllSelect);
    </script>
    
</body>    
</html>  
